<div class="banner" style="background-image: url(<%= @island.photo %>)">
</div>

<div class="card-owner-island">
  <%= cl_image_tag @island.user.photo, class: "avatar-show", alt: "avatar-large" %>
  <%#= image_tag('photo_avatar.jpg',
  <%#= image_tag "https://kitt.lewagon.com/placeholder/users/arthur-littm", class: "avatar-show", alt: "avatar-large" %>
  <%= @island.user.first_name %>
</div>

<div class="container">
  <div class="d-flex flex-row">
    <div class="col-md-6">
      <h1><%= @island.name %></h1>
      <br>
      <p style="font-style: italic"><span class="price"><%= @island.price_per_day %></span> $ / jour.</p>
      <p>Située en <span class="span-blue"><%= @island.continent %></span></p>
      <p><%= @island.description[0,02] %></p>
    </div>
    <div class="col-md-6">
      <div
        id="map"
        style="width: 100%;
        height: 300px;
        margin-top: 35px;
        margin-bottom: 35px;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
      ></div>
      <div>
        <%= simple_form_for [@island, @booking] do |f| %>
          <%= f.input :check_in_date, class: 'departure', label: "Date d'arrivée :" %>
          <%= f.input :check_out_date, class: 'arrival', label: "Date de départ :" %>
          <div class="d-flex justify-content-between">
            <p>Nombre de jours : </p>
            <div id="total-days"></div>
          </div>

          <div class="d-flex justify-content-between">
            <p>Total : </p>
            <div id="total-price"></div>
          </div>

          <%= f.button :submit, "Réserver", class: 'btn btn-primary reserve-button', style: 'margin-bottom: 30px' %>
        <% end %>
        <br>
      </div>
    </div>
  </div>
</div>
<div>
  <div data-set="<%= @price %>"></div>
  <div data-set="<%= @days %>"></div>
</div>

